<!DOCTYPE html>
<html>
    <head>
        <title>Game Framework</title>

        <script>
            /* When the user clicks on the button,
            toggle between hiding and showing the dropdown content */
            function myFunction() {
              document.getElementById("myDropdown").classList.toggle("show");
            }
            
            // Close the dropdown menu if the user clicks outside of it
            window.onclick = function(event) {
              if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                  var openDropdown = dropdowns[i];
                  if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                  }
                }
              }
            }
        </script>
    </head>


    <body>
        <div id="root">
        </div>
        <div id="handlebars">
            <div id="game_name">{{name}}</div>
            {{#if gameOverMsg}}
            <div id="game_over_message">{{gameOverMsg}}</div>
            {{else}}
              {{#if currentPlayer}}
              <div id="current_player_name">Current player is {{currentPlayer}}</div>
              {{/if}}
            {{/if}}

            <div id="board" style="grid-template-columns: {{numColStyle}}">
                {{#each cells}}
                {{#if link}}
                <a href={{link}}>
                    <div class="cell {{clazz}}">{{text}}</div>
                </a>
                {{else}}
                <div class="cell {{clazz}}">{{text}}</div>
                {{/if}}
                {{/each}}
            </div>

            <div id="footer">{{footer}}</div>
            
            <div id="bottombar">
                <button onclick="myFunction()" class="dropbtn">New Game</button>
                <div id="myDropdown" class="dropdown-content">
                    {{#each plugins}}
                    <a href="{{link}}">{{name}}</a>
                    {{/each}}
                </div>
            </div>
        </div>
    </body>

    
    <!-- import the the tic.ts file generated by browserify -->
    <script src="tic.js"></script>
</html>